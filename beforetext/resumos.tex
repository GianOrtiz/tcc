

\newcommand{\imprimirbrazilabstract}{%
    \cleardoublepage\phantomsection
    \addtotextpreliminarycontent{Resumo em Português}
    \begin{otherlanguage*}{brazil}
    \begin{resumo}[Resumo]
		Em sistemas distribuidos, temos, cada vez a presença de virtualização leve,
		através de contêineres, contribuindo para a rápida difusão deste meio para
		criar aplicações, aliado a praticidade em se utilizar contêineres para
		implantação de microsserviços e distribuição em serviços em nuvem. Entretanto,
		este método possui alguns desafios para prover alta disponibilidade dos serviços.
		Orquestradores de contêneires resolvem muitos dos desafios, como a escalabilidade,
		a distribuições e administração de contêneires em \textit{clusters}. Porém,
		alguns desafios persistem, como, parte do tema deste trabalho que é a alta
		disponibilidade para serviços em contêineres do tipo \textit{Stateful}, provendo
		tolerância a falhas a este tipo de serviço, que necessita de um estado para executar.
		Para isso, utilizamos técnicas de \textit{Checkpoint/Restore} para realizar o
		salvamento do estado e um serviço e posterior restauração do mesmo estado em caso de
		falhas. Aliado a parte do padrão de projeto de \textit{Event Sourcing} para prover
		diferentes tipos de recuperação. Ainda, focamos em prover uma solução que funcione
		de maneira transparente no orquestrador de contêneires Kubernetes, que é atualmente
		o mais utilizado. Este trabalho desenvolverá uma ferramenta de
		\textit{Checkpoint/Restore} para contêineres \textit{Stateful} executando em
		Kubernetes, através do padrão de projeto de \textit{Event Sourcing}, também temos
		uma implementação em andamento que utiliza técnicas padrão de
		\textit{Checkpoint/Restore} como CRIU, possibilitando a falha do container e
		posterior recuperação do mesmo com transparência.

%    		\textbf{Palavras-chave}: Sistemas distribuídos. Serviços \textit{Stateful}.
%    		Tolerância a falhas. Contêineres. Orquestação de Contêineres. \textit{Checkpoint/Restore}.
%    		\textit{Event Sourcing}. Kubernetes.

        \imprimirpalavraschave{Palavras-chaves}{\begin{inparaitem}[]\palavraschaveportugues\end{inparaitem}}

    \end{resumo}
    \end{otherlanguage*}
}


\newcommand{\imprimirenglishabstract}{%
    % https://tex.stackexchange.com/questions/20987/changing-babel-package-inside-a-single-chapter
    % https://tex.stackexchange.com/questions/36526/multiple-language-document-babel-selectlanguage-vs-begin-endotherlanguage
    \cleardoublepage\phantomsection
    \addtotextpreliminarycontent{English's Abstract}
    \begin{otherlanguage*}{english}
    \begin{resumo}[Abstract]

        The world of distributed systems is seeing the increase in the usage
        of lightweight virtualization, containers, to create applications, like
        microservices distributed at the cloud systems. But, the usage of
        containers for distributed system has many challenges on the high availability
        of the service, container orchestrators, like Kubernetes, solve this challenges
        by providing tools to manage containers, scale them and distribute them. Although,
        the high availability of Stateful containers has other challenges than Stateless
        containers, like the fault tolerancy on achieving the same state that the previous
        failed application, this is the focus of this work. To achieve the same state as the
        previous failed container, we use Checkpoint/Restore techniques and the Event
        Sourcing pattern, we can checkpoint the state of the application and when it fails
        we restore it to the previous state. The usage of the Event Sourcing is to give a
        new way to achieve the Checkpoint/Restore, we will also show how we can achieve
        the same result using traditional Checkpoint/Restore on Linux with CRIU. This work
        creates a framework for Kubernetes for fault tolerancy with Checkpoint/Restore
        using Event Sourcing.

        \imprimirpalavraschave{Keywords}{\begin{inparaitem}[]\palavraschaveingles\end{inparaitem}}

    \end{resumo}
    \end{otherlanguage*}
}


% \newcommand{\imprimirfrenchabstract}{%
%     \addtotextpreliminarycontent{Français Résumé}
%     \begin{resumo}[Résumé]
%       \begin{otherlanguage*}{french}
%           Il s'agit d'un résumé en français.

%           \imprimirpalavraschave{Mots-clés}{latex. abntex. publication de textes.}
%       \end{otherlanguage*}
%     \end{resumo}
% }


% \newcommand{\imprimirspanishabstract}{%
%     \addtotextpreliminarycontent{Español Resumen}
%     \begin{resumo}[Resumen]
%       \begin{otherlanguage*}{spanish}
%           Este es el resumen en español.

%           \imprimirpalavraschave{Palabras clave}{latex. abntex. publicación de textos.}
%       \end{otherlanguage*}
%     \end{resumo}
% }


\makeatletter
\ifenglish
    \@ifundefined{imprimirbrazilabstract}{}{\imprimirbrazilabstract}

    % https://tex.stackexchange.com/questions/331108/times-new-roman-in-latex-just-some-text
    % https://tex.stackexchange.com/questions/11707/how-to-force-output-to-a-left-or-right-page
    % https://tex.stackexchange.com/questions/132966/do-not-display-chapter-title-in-memoir-class
    \cleardoublepage\phantomsection
    \pretextualchapter{Resumo Expandido}
    \addtotextpreliminarycontent{Resumo Expandido}

    \begin{otherlanguage*}{brazil}
        \setlength{\parskip}{0.2cm}
        \setlength{\parindent}{0.0cm}
        \fontfamily{ptm}\selectfont

        \section*{Introdução}

		Com o crescimento de técnicas de utilização de microsserviços e
		computação em nuvem, se criou uma alta necessidade para a alta
		disponibilidade dos serviços \cite{vayghan2021kubernetes}. A
		virtualização leve através da utilização de contêineres, desenvolvidos
		em cima das funcionalidades do Linux, possibilitou uma melhoria no
		processo de disponibilização destes microsserviços na nuvem
		\cite{laadan2010linux}. Desta forma, para facilitar o processo de
		gerenciamento e comunicação entre diversos contêineres de microsserviços
		na nuvem, aplicações com este intuito foram criadas
		\cite{vayghan2021kubernetes}, elas são chamadas de orquestradores de
		contêineres, entre elas a mais popular é o Kubernetes \cite{kubernetes}.

		Em geral, os orquestradores de contêineres proveem um grande ferramental
		para a replicação, recuperação e manutenção de alta disponibilidade para
		os contêineres, suprindo a maioria das necessidades que aplicações sem
		estado de memória interna, do tipo \textit{Stateless}, possuem
		\cite{vayghan2021kubernetes}. Entretanto, quando precisamos de aplicações
		que possuam estado em memória, aplicações \textit{Stateful}, e, que este
		estado seja importante para as futuras execuções da aplicação, falta
		suporte nos orquestradores de contêineres, principalmente em adoção das
		práticas de \textit{Checkpoint/Restore} \cite{muller2022architecture} para
		o melhoria do tempo da recuperação de contêineres com falhas. Este tipo de
		técnica permite salvar o estado de memória em uma nova imagem para
		recuperá-la mais tarde. Embora, orquestradores de contêineres possuam
		suporte para aplicações com estado em armazenamento de dados, como o
		StatefulSet no Kubernetes, não existe suporte nativo para o estado em
		memória da aplicação \cite{tran2022proactive}.

		Desta forma, este trabalho propõe uma aplicação transparente para realizar
		o \textit{Checkpoint/Restore} de aplicações \textit{Stateful} executando em
		contêineres no Kubernetes. Esta aplicação irá possibilitar a tolerância a
		falhas das aplicações com estado e também melhorar a alta disponibilidade
		destes serviços, melhorando também a qualidade de serviço de aplicações
		distribuídas em nuvem.

        \section*{Objetivos}
        
        \subsection{Objetivo Geral}
        
        Desenvolver uma aplicação transparente para realização de
        \textit{Checkpoint/Restore} de aplicações de contêineres \textit{Stateful}
        que execute de maneira nativa no orquestrador de contêineres Kubernetes.
        
        \subsection{Objetivos Específicos}

		\begin{itemize}
	    		\item Desenvolver uma aplicação transparente para
	    		\textit{Checkpoint/Restore} de aplicações \textit{Stateful} executando
	    		no orquestrador de contêineres Kubernetes.
    			\item Coletar métricas da performance da solução implementada para garantir
    			eficiência no \textit{Checkpoint/Restore}, comparando com execução sem
    			a aplicação.
		    \item Identificar e avaliar classes de problemas ao qual a ferramenta não é
		    possível ser utilizada.
		\end{itemize}

        \section*{Metodologia}
        Quisque efficitur dolor in lectus dapibus elementum. Nam ultrices blandit consectetur.
        Nullam ultricies sit amet odio quis placerat. Aenean eget est elit. Maecenas et nulla dolor.
        Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In
        pulvinar velit sed mi sagittis ornare. Aenean rutrum suscipit egestas. Phasellus pharetra
        eget ex in volutpat. Quisque eu arcu nunc. Vivamus arcu ligula, pharetra at rhoncus sit
        amet, pulvinar sed eros. Sed porta ipsum ipsum, et fermentum magna volutpat sed. Vivamus
        pharetra facilisis orci, sit amet luctus nisl pretium id. Sed consequat, arcu et congue
        pulvinar, risus enim aliquet purus, eget venenatis libero leo sit amet metus. Maecenas vitae
        elit sapien. Fusce mollis libero et gravida placerat. Proin ut quam quis justo aliquam
        dictum. Donec volutpat convallis suscipit. Vivamus metus nisl, placerat ac enim vitae,
        tempus ultricies odio.

        Aliquam ac vehicula arcu, non bibendum nulla. Morbi libero sem,
        imperdiet vel quam et, posuere tempus nunc. Maecenas dictum magna sit amet ligula facilisis
        commodo. Aliquam tellus diam, ornare vel elementum in, dignissim id purus. Ut at tortor non
        sem molestie euismod non at turpis. Phasellus vitae bibendum tellus. Suspendisse odio enim,
        faucibus eget congue quis, semper sit amet tortor. Sed ac lectus est. Pellentesque nec
        mattis mi, et varius dolor. Aliquam quis massa ac tellus malesuada sollicitudin. Maecenas
        ultrices risus massa, nec auctor risus sagittis id. Praesent a sapien nulla. Donec
        tincidunt, metus quis hendrerit facilisis, enim augue convallis elit, sed consequat lacus
        odio vitae magna.

        \section*{Resultados e Discussão}
        Nullam sed cursus leo. Donec commodo volutpat hendrerit. Fusce et tempus lectus, feugiat
        consequat est. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
        inceptos himenaeos. Nam quis cursus mauris, non tempus orci. Phasellus lobortis et mauris at
        vulputate. Sed nec nisl elementum lorem commodo gravida non a enim. Phasellus neque erat,
        aliquet ac ligula ac, maximus vestibulum sem. Vestibulum vel tincidunt turpis. Donec lacinia
        rutrum dolor dapibus bibendum. Mauris pharetra nibh nec tincidunt iaculis. Vivamus pharetra
        bibendum nisl eget blandit. In lobortis diam non justo eleifend, id lobortis ante fringilla.
        Donec libero tortor, suscipit vestibulum vestibulum id, rutrum accumsan turpis. Phasellus
        sollicitudin luctus tincidunt. Suspendisse potenti. Nam semper metus et mi pharetra, in
        pretium ligula fermentum. Integer consectetur, orci non placerat feugiat, dui ex gravida
        augue, vel placerat ligula augue vel velit. Aliquam sollicitudin pellentesque congue. Donec
        vitae turpis in ante posuere posuere. Pellentesque eu justo leo. Donec quis elit vitae leo
        varius luctus quis eget justo.

        Vestibulum elementum ex neque, quis commodo tortor porttitor
        mattis. Mauris vel sagittis turpis. Aenean ligula turpis, eleifend at felis sed, cursus
        condimentum orci. Fusce accumsan est odio, eu venenatis massa sodales in. Curabitur a tempor
        nisl. Quisque consequat sed arcu a congue. In viverra, ex ut hendrerit condimentum, urna sem
        euismod eros, nec suscipit turpis dolor eget augue. Aenean posuere tellus et consectetur
        condimentum. Mauris et massa et nulla fringilla interdum. Duis quis posuere elit. Donec at
        ex non arcu faucibus rutrum et vel lectus. Vivamus pellentesque vestibulum rutrum. Sed
        pretium, purus sed efficitur feugiat, nisi justo eleifend nibh, id suscipit nunc massa nec
        lectus. In euismod enim eu sapien dictum sodales. Fusce sit amet vulputate orci. Nulla
        rutrum mauris at purus aliquet, ac sollicitudin leo laoreet. Etiam elementum posuere
        feugiat. Maecenas sed libero non augue fermentum ultricies eget at mi. Aenean auctor
        bibendum lacus, dignissim aliquet est tempus eget. Maecenas tempus, nulla id rhoncus
        suscipit, augue leo auctor mi, eget tincidunt magna mi quis dui. Maecenas ut elit in turpis
        tincidunt ultrices. Nulla id nulla aliquet, porttitor eros quis, egestas justo. Nunc nisi
        quam, egestas a accumsan fermentum, ultricies ac elit.

        Nulla porta auctor vestibulum. Sed
        consectetur lacus molestie iaculis ullamcorper. Proin porta posuere massa a lacinia. Nunc a
        lacinia orci, non vehicula ante. Vestibulum ipsum velit, congue et neque aliquam, imperdiet
        ornare augue. Donec et congue sapien. Pellentesque consequat consectetur neque ut varius. In
        aliquam ex quis ante venenatis dapibus. Vivamus et imperdiet urna. Vestibulum quis nibh
        magna. In a congue lectus, eu sodales nunc. Suspendisse id.

        \section*{Considerações Finais}
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae dolor lacus. Ut
        accumsan vitae felis nec porttitor. Integer interdum fringilla feugiat. Nullam pulvinar sit
        amet tellus eget maximus. Donec sit amet magna eget justo semper fermentum vel eget velit.
        In iaculis imperdiet mauris, ac ornare libero placerat non. Nulla libero lectus, ullamcorper
        ac ornare eget, pulvinar ac nulla. Curabitur vestibulum non nisl eget sagittis. Proin
        gravida lacus id eros bibendum interdum. Mauris ullamcorper elementum tortor sed consequat.
        Integer tempus, est a lobortis vehicula, nisi mi fringilla augue, non semper leo metus in
        quam. Etiam in leo maximus, pulvinar mi eget, vehicula risus. Donec sed dui semper, dictum
        eros at, suscipit felis.

        Nam sagittis vel orci at tempus. Nulla non pellentesque eros.
        Quisque cursus leo massa, eu ultricies nisl lacinia a. Nulla sit amet elementum ligula.
        Proin sodales venenatis dictum. Ut et est cursus, vulputate velit et, viverra odio. Interdum
        et malesuada fames ac ante ipsum primis in faucibus. Maecenas purus diam, tempor a semper
        et, finibus a ex. Cras sagittis felis urna, et consequat arcu lacinia ut. Praesent blandit
        venenatis ante nec porta. Duis rutrum, tellus vitae ullamcorper auctor, lectus ex laoreet
        est, ac tristique ipsum arcu vitae nibh. Nam efficitur felis ut mi consectetur, nec auctor
        odio ornare. In tempor vulputate urna, vitae cursus enim egestas eu. Proin diam augue,
        dignissim vitae ligula eget, lobortis ornare odio. Duis quis elit augue. Fusce quis rhoncus
        tortor. Donec hendrerit at massa a mattis. Sed ipsum neque, aliquam ut sem sed, ultrices
        varius ligula. Suspendisse blandit, dolor ac rhoncus lacinia, dolor purus cursus purus, et
        accumsan orci neque a leo.


        \imprimirpalavraschave{Palavras-chaves}{\begin{inparaitem}[]\palavraschaveportugues\end{inparaitem}}

    \end{otherlanguage*}

    \@ifundefined{imprimirenglishabstract}{}{\imprimirenglishabstract}

\else
    \@ifundefined{imprimirbrazilabstract}{}{\imprimirbrazilabstract}
    \@ifundefined{imprimirenglishabstract}{}{\imprimirenglishabstract}
\fi

\@ifundefined{imprimirfrenchabstract}{}{\imprimirfrenchabstract}
\@ifundefined{imprimirspanishabstract}{}{\imprimirspanishabstract}
\makeatother

